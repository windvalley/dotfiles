# Helix 快速上手指南 (Neovim 用户版)

如果你是一名 Neovim 重度用户，刚切换到 Helix，这份文档将帮助你快速度过“肌肉记忆”的磨合期。

## 1. 核心思维转变：从 Verb-Object 到 Object-Verb

Neovim 的逻辑是 **“动作 + 对象”** (e.g., `dw` = delete word)。
Helix 的逻辑是 **“对象 + 动作”** (e.g., `wd` = word delete)。

**为什么要变？**
在 Helix 中，你先选择文本，文本会高亮，然后你再执行动作。这让你在按下删除或修改键之前，就能**看到**受影响的范围，无需猜测 `d3w` 到底会删到哪里。

## 2. 三种核心模式 (Modes)

与 Neovim 类似，Helix 也是模态编辑器，但其“选择”的概念贯穿始终：

- **Normal (常规模式)**: 默认模式。移动光标即是在“选择”内容（即使只是一个字符）。大多数命令在此模式下执行。
- **Insert (插入模式)**: 按 `i`, `a`, `I`, `A` 等进入。与 Vim 习惯一致，用于输入文本。
- **Select (选择模式)**: 按 `v` 进入。在此模式下，移动操作会**扩展**当前的选区，而不是移动光标。这相当于 Vim 的 Visual Mode，但更强大。

## 3. 常用按键映射对比

| 操作 | Neovim 习惯 | Helix 等效 | 备注 |
| :--- | :--- | :--- | :--- |
| **删除单词** | `dw` | `wd` | 选中单词再删除 |
| **删除行** | `dd` | `xd` | `x` 选中当前行 |
| **复制行** | `yy` | `xy` | |
| **行内跳转** | `0` / `$` | `gh` / `gl` | `g` 菜单 (Go) |
| **文件跳转** | `G` | `ge` | |
| **查找内容** | `/text` | `/text` <kbd>Enter</kbd> | `n` / `N` 依然有效 |
| **替换** | `:%s/old/new/g` | `s` -> `c` | 后面详述“多光标” |
| **悬浮文档** | `K` | `K` | 已在你的 `config.toml` 中映射 |
| **代码动作** | `leader + ca` | `space + a` | `space` 是 Helix 的默认二级菜单 |
| **注释代码** | `gcc` / `gc` | `Ctrl + c` | 选中多行后按 `Ctrl + c` 即可批量注释 |

> [!TIP]
> **系统剪贴板**：按照 Helix 的原生设计，`y` 和 `p` 仅在编辑器内部工作。若需与 macOS 其他程序交互，请使用：
> - ** 从 hx 中复制内容到系统剪贴板**：`Space + y`
> - **从系统剪贴板粘贴内容到 hx 中**：`Space + p`
> 这样可以避免hx编辑过程中的临时复制冲掉你原本在剪贴板里存放的重要信息。

## 4. Helix 的“杀手锏”功能

### 多光标 (Multiple Cursors)
Helix 不需要插件就能实现超强的多光标操作：
1. `x` 选中多行。
2. `s` 输入正则（例如 `foo`），只选中这些关键词。
3. `c` 统一修改。这就是 Helix 的“查找替换”。
4. **`,` (逗号)**: 取消所有多余选区，只保留主选区。

### 渐进式发现 (Built-in Discovery)
忘记快捷键了？没关系。
- 按下 `g`、`z`、`m`、`[`、`]` 或 `space` 后停留片刻，Helix 会自动弹出二级菜单的所有选项和说明。

### 零配置 LSP
你已经在 `languages.toml` 中配置了多种语言。在 Helix 中：
- `gd`: Go to definition
- `gr`: Go to references
- `gy`: Go to type definition
- `space + r`: Rename

## 5. 必备快捷键备忘录

- `f` + `字符`: 行内跳转到该字符。
- `v`: 进入选择模式。
- `,`: **取消多光标**，只保留主选区。
- `;`: **塌陷选区**，将选区缩小为光标所在的单个字符。
- `u` / `U`: 撤销 / 重做。
- `C-w`: 窗口管理（和 Vim 一致）。
- `:config-open`: 快速打开配置。
- `:reload`: **手动重载文件**（当外部修改没能自动触发更新时）。
- `:tutor`: **必读！** 极其优秀的交互式教程（约 15 分钟）。
